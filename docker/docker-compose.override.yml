version: '2.1'
services:

  app:
    container_name: forecast_api
    command: run-app.sh
    ports:
      - 8000:8000
    volumes:
      - ../:/usr/src/app

  tests:
    container_name: forecast_api-tests
    volumes:
      - ../:/usr/src/app

  tests-pipeline:
    extends:
      file: docker-compose.yml
      service: tests
